<?php require_once _370353442(0);require_once _370353442(1);is_array($INT)or empty($regim)?:exit(header(_370353442(2),TRUE,round(0+60.2+60.2+60.2+60.2+60.2)));$kyt=_370353442(3) .$INT[_370353442(4)];function trm(&$v){$v=trim(trim($v,_370353442(5)));}function definType($v){$v=iconv(_370353442(6),_370353442(7),filter_var(trim($v),FILTER_SANITIZE_URL));if(!preg_match(_370353442(8),$v)){return false;}if(stripos($v,_370353442(9))!==FALSE or strpos($v,_370353442(10))!==FALSE or stripos($v,_370353442(11))!==FALSE or stripos($v,_370353442(12))!==FALSE){return false;}$pach=parse_url($v);if($pach[_370353442(13)]== _370353442(14)or $pach[_370353442(15)]== _370353442(16)or(isset($pach[_370353442(17)])&& count($pach)>round(0+0.33333333333333+0.33333333333333+0.33333333333333))){$t=_370353442(18);}else{$t=_370353442(19);if(empty($pach[_370353442(20)])){$v=$v ._370353442(21);}}$md=md5($v .microtime());return array($t,$v,$md);}$str=NULL;$tr=NULL;$V=round(0);switch($_FILES[_370353442(22)][_370353442(23)]){case _370353442(24):require_once _370353442(25);$xlsx=@SimpleXLSX::parse($_FILES[_370353442(26)][_370353442(27)]);$larr=$xlsx->rows();$kt=@mysqli_prepare($s,_370353442(28));foreach($larr as $v){if($ri=definType($v[round(0)])){list($type,$url,$mds)=$ri;}else{continue;}$login=(strlen($v[round(0+0.33333333333333+0.33333333333333+0.33333333333333)])>round(0+0.6+0.6+0.6+0.6+0.6)&& strlen($v[round(0+1+1)])>round(0+0.75+0.75+0.75+0.75)&& $type!== _370353442(29))?trim($v[round(0+0.2+0.2+0.2+0.2+0.2)]):NULL;$pass=(strlen($v[round(0+0.2+0.2+0.2+0.2+0.2)])>round(0+1+1+1)&& strlen($v[round(0+0.4+0.4+0.4+0.4+0.4)])>round(0+0.6+0.6+0.6+0.6+0.6)&& $type!== _370353442(30))?trim($v[round(0+0.5+0.5+0.5+0.5)]):NULL;$com=strlen($v[round(0+1.5+1.5)])>round(0+1.5+1.5)?trim($v[round(0+1+1+1)]):NULL;$PST[$V][_370353442(31)]=$url;$PST[$V][_370353442(32)]=$type;$PST[$V][_370353442(33)]=$login;$PST[$V][_370353442(34)]=$pass;$V++;@mysqli_stmt_bind_param($kt,_370353442(35),$type,$url,$mds,$login,$pass,$kyt,$com);@mysqli_stmt_execute($kt);$tr .= _370353442(36) .$mds ._370353442(37) .$url .(is_null($login)?_370353442(38):_370353442(39) .trim($login) ._370353442(40)) ._370353442(41) .trim($com) ._370353442(42);}break;case _370353442(43):if(substr(strrchr($_FILES[_370353442(44)][_370353442(45)],_370353442(46)),round(0+0.25+0.25+0.25+0.25))== _370353442(47)){exit(_370353442(48) .$_FILES[_370353442(49)][_370353442(50)] ._370353442(51));}$larr=file($_FILES[_370353442(52)][_370353442(53)],FILE_IGNORE_NEW_LINES|FILE_SKIP_EMPTY_LINES)or exit(_370353442(54));$separator=array(_370353442(55),_370353442(56),_370353442(57),_370353442(58));$cousep[round(0)]=substr_count($larr[round(0)],_370353442(59));$cousep[round(0+1)]=substr_count($larr[round(0)],_370353442(60));$cousep[round(0+0.66666666666667+0.66666666666667+0.66666666666667)]=substr_count($larr[round(0)],_370353442(61));$cousep[round(0+0.75+0.75+0.75+0.75)]=substr_count($larr[round(0)],_370353442(62));$mxa=array_keys($cousep,max($cousep));$separator=$separator[$mxa[round(0)]];$kt=mysqli_prepare($s,_370353442(63));foreach($larr as $value){$v=explode($separator,iconv(_370353442(64),_370353442(65),$value));array_walk($v,_370353442(66));if($ri=definType($v[round(0)])){list($type,$url,$mds)=$ri;}else{continue;}$login=(strlen($v[round(0+0.25+0.25+0.25+0.25)])>round(0+0.6+0.6+0.6+0.6+0.6)&& strlen($v[round(0+2)])>round(0+0.75+0.75+0.75+0.75)&& $type!== _370353442(67))?$v[round(0+0.33333333333333+0.33333333333333+0.33333333333333)]:NULL;$pass=(strlen($v[round(0+0.25+0.25+0.25+0.25)])>round(0+1+1+1)&& strlen($v[round(0+0.66666666666667+0.66666666666667+0.66666666666667)])>round(0+1.5+1.5)&& $type!== _370353442(68))?$v[round(0+0.5+0.5+0.5+0.5)]:NULL;$com=strlen($v[round(0+3)])>round(0+0.75+0.75+0.75+0.75)?$v[round(0+0.6+0.6+0.6+0.6+0.6)]:NULL;$PST[$V][_370353442(69)]=$url;$PST[$V][_370353442(70)]=$type;$PST[$V][_370353442(71)]=$login;$PST[$V][_370353442(72)]=$pass;$V++;@mysqli_stmt_bind_param($kt,_370353442(73),$type,$url,$mds,$login,$pass,$kyt,$com);@mysqli_stmt_execute($kt);$tr .= _370353442(74) .$mds ._370353442(75) .$url .(is_null($login)?_370353442(76):_370353442(77) .trim($login) ._370353442(78)) ._370353442(79) .trim($com) ._370353442(80);}break;case _370353442(81):$larr=file($_FILES[_370353442(82)][_370353442(83)],FILE_IGNORE_NEW_LINES|FILE_SKIP_EMPTY_LINES)or exit(_370353442(84));foreach($larr as $v){if($ri=definType($v)){list($type,$url,$mds)=$ri;}else{continue;}$PST[$V][_370353442(85)]=$url;$PST[$V][_370353442(86)]=$type;$V++;$str=_370353442(87) .$type ._370353442(88) .$url ._370353442(89) .$mds ._370353442(90) .$str;$tr .= _370353442(91) .$mds ._370353442(92) .$url ._370353442(93);}$qu=_370353442(94) .substr($str,round(0),-round(0+1));mysqli_query($s,$qu);break;default:exit(_370353442(95) .$_FILES[_370353442(96)][_370353442(97)] ._370353442(98));}if(!is_null($tr)){echo(_370353442(99) .$tr);}$df=array(_370353442(100)=>$PST,_370353442(101)=>$INT[_370353442(102)]);echo includs(_370353442(103),$df,round(0+0.2+0.2+0.2+0.2+0.2)); function _370353442($i){$a=array("../dbuser.php","../flash/post.php",'Location: /bimailer/bases.php','serversmtp','login','"','windows-1251','utf-8','/^((https?|smtps?):\/\/)([\da-z\.-]+)\.([a-z\.]{2,6})(:[0-9]{2,7})?([\/\w \.-]*)*\/?$/','localhost','127.0.0.1','busmail.ru','bimailer.ru','scheme','https','scheme','http','path','0','1','port',':25','files','type','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet','fordownload/simplexlsx.class.php','files','tmp_name','INSERT INTO bus_serv SET type=?, url=?, mds=?,login=?, pass=AES_ENCRYPT(?,?), com=?','0','0','url','type','login','pass','issssss','<tr id="','"><td><input type="checkbox" checked name="Gisp" /></td><td>','','	(',')','</td><td></td><td>','</td><td>0</td></tr>','application/vnd.ms-excel','files','name','.','xls','2|Неверный формат файла ','files','name','. Доступны CSV, XLSX(excel 2007+), TXT','files','tmp_name','2|Ошибка загрузки, PHP не поддерживает загрузку или файл поврежден',';',',','	','|',';',',','	','|','INSERT INTO bus_serv SET type=?, url=?, mds=?,login=?,pass=AES_ENCRYPT(?,?), com=?','windows-1251','utf-8','trm','0','0','url','type','login','pass','issssss','<tr id="','"><td><input type="checkbox" checked name="Gisp" /></td><td>','','	(',')','</td><td></td><td>','</td><td>0</td></tr>','text/plain','files','tmp_name','2|Ошибка загрузки, PHP не поддерживает загрузку или файл поврежден','url','type','(',',"','","','"),','<tr id="','"><td><input type="checkbox" checked name="Gisp" /></td><td>','</td><td></td><td></td><td>0</td></tr>','INSERT INTO bus_serv (type,url,mds) VALUES ','2|Неверный формат файла ','files','name','. Доступны CSV, XLSX(excel 2007+), TXT','1|','arr','logim','login','server_spis.php');return $a[$i];}